<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="イベントのページです">
    <title>イベント内容</title>

    <!-- Vegasスライドショー用のCSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vegas/2.4.4/vegas.min.css">
    <!-- サイト全体のスタイルシート -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="animation.css"> <!-- アニメーション用のスタイルシート -->
    <link rel="stylesheet" href="inview.css"> <!-- 要素が表示された時のアニメーション用のスタイルシート -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body class="event">

<!-- ロード画面 -->
<div class="loader">
    <span></span>
    <span></span>
    <span></span>
    <h2>Now Loading...</h2>
</div>

<header>
    <!-- ヘッダー部分 -->
    <h1 id="logo">
        <a href="index.html">
            <img src="https://github.com/hitopi/summer-festival-2024/raw/main/in_logo_2.png" alt="施設のロゴ">
        </a>
    </h1>
</header>

<div id="container"> <!-- コンテンツ全体を囲むコンテナ -->

<!-- メニューナビゲーション -->
<nav id="header-menu">
    <ul>
        <li><a href="info.html">ご案内<i class="fas fa-info-circle"></i></a></li>
        <li><a href="event.html">イベント<i class="fas fa-theater-masks"></i></a></li>
        <li><a href="menu.html">食事<i class="fas fa-utensils"></i></a></li>
        <li><a href="access.html">アクセス<i class="fas fa-map-marker-alt"></i></a></li>
    </ul>
</nav>

<main>
    <!-- 矢印アイコンを追加 -->
    <div id="side-btn-arrow">
        <i class="fas fa-angle-left"></i> <!-- 左矢印アイコン -->
    </div>

    <section>
    
        <h2 class="flag">イベント内容<span>Event</span></h2>
        <br>
        
        <table class="ta1">
            <caption>当日のスケジュール</caption>
            <tr>
                <th class="center-text">受付開始</th>
                <td>
                    <div class="event-container">
                        <div>
                            <strong>18:00~</strong>
                            <ul>
                                <li>事前登録してない方も気軽にご参加ください！</li>
                                <li>同じ研究室の人たちもぜひぜひ誘ってください!!!</li>
                            </ul>
                        </div>
                        <img src="https://github.com/hitopi/summer-festival-2024/raw/main/in_event_1.png" alt="">
                    </div>
                </td>
            </tr>
            <tr>
                <th class="center-text">初めの挨拶</th>
                <td>
                    <div class="event-container">
                        <div>
                            <strong>18:20~18:30</strong>
                            <ul>
                                <li>by </li>
                                <li></li>
                            </ul>
                        </div>
                        <img src="https://github.com/hitopi/summer-festival-2024/raw/main/in_event_2.png" alt="">
                    </div>
                </td>
            </tr>
            <tr>
                <th class="center-text">歓談・出展企画</th>
                <td>
                    <div class="event-container">
                        <div>
                            <strong>18:30~</strong>
                            <ul>
                                <li>ご飯食べながらおしゃべりタイム！</li>
                                <li>流しそうめん・射的などもお楽しみに</li>
                            </ul>
                        </div>
                        <img src="https://github.com/hitopi/summer-festival-2024/raw/main/in_event_3.png" alt="">
                    </div>
                </td>
            </tr>
            <tr>
                <th class="center-text">全体イベント①<br>スイカ割り</th>
                <td>
                    <div class="event-container">
                        <div>
                            <strong>19:30</strong>
                            <ul>
                                <li>夏と言ったらやっぱりスイカ！</li>
                                <li>参加者募集中・・・</li>
                            </ul>
                        </div>
                        <img src="https://github.com/hitopi/summer-festival-2024/raw/main/in_event_4.png" alt="">
                    </div>
                </td>
            </tr>
            <tr>
                <th class="center-text">全体イベント②<br>かき氷早食い競争</th>
                <td>
                    <div class="event-container">
                        <div>
                            <strong>20:30</strong>
                            <ul>
                                <li>かき氷も食べなきゃね～</li>
                                <li>景品有り！TWInsグッツ！？</li>
                            </ul>
                        </div>
                        <img src="https://github.com/hitopi/summer-festival-2024/raw/main/in_event_4.png" alt="">
                    </div>
                </td>
            </tr>
            <tr>
                <th class="center-text">歓談・企画の続き</th>
                <td>
                    <div class="event-container">
                        <div>
                            <strong>~20:45</strong>
                            <ul>
                                <li>美味しいごはんと企画イベントで</li>
                                <li>お腹と心を満たしてください！</li>
                            </ul>
                        </div>
                        <img src="https://github.com/hitopi/summer-festival-2024/raw/main/in_event_5.png" alt="">
                    </div>
                </td>
            </tr>
            <tr>
                <th class="center-text">終わりの挨拶</th>
                <td>
                    <div class="event-container">
                        <div>
                            <strong>20:45</strong>
                            <ul>
                                <li>by </li>
                                <li>最後までお楽しみいただければ幸いです！</li>
                            </ul>
                        </div>
                        <img src="https://github.com/hitopi/summer-festival-2024/raw/main/in_event_5.png" alt="">
                    </div>
                </td>
            </tr>
        </table>

        <p class="highlight" style="text-align: center;">
            途中参加・退出 ▶ <strong>全然 OK!</strong>
        </p>
    
    </section>

    <!-- 当日のレイアウト -->
    <section class="event-layout" style="margin-top: 100px;">
        <h2 class="flag">当日のレイアウト<span>Event Day Layout</span></h2>
        <div class="layout-photo-container">
            <div class="layout-photo">
                <img src="https://github.com/hitopi/summer-festival-2024/raw/main/in_layout_1.png" alt="Layout Image">
            </div>
        </div>
    </section>

</main>

</div> <!-- /#container -->

<!-- ロード画面のスクリプト -->
<script>
    window.onload = function () {
        const loader = document.querySelector(".loader");
        const content = document.querySelector(".content");

        // 600px以下の画面幅の場合、ローダーを非表示にする
        if (window.innerWidth <= 600) {
            if (loader) {
                loader.style.display = 'none';
            }
        } else {
            // 600px以上の場合は1.3秒後にローダーを非表示にし、コンテンツを表示
            setTimeout(() => {
                if (loader) {
                    loader.classList.add("loaded");
                }
                if (content) {
                    content.classList.add("visible");
                }
            }, 1300);
        }
    };
</script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
    let isDragging = false;
    let startX;
    const menubars = document.querySelectorAll('[id^="menubar_hdr"]'); // IDがmenubar_hdrで始まるすべての要素を取得
    const sideBtn = document.getElementById('side-btn');
    const arrowBtn = document.getElementById('side-btn-arrow');
    const threshold = 50; // ドラッグ操作のしきい値
    let isHidden = false;  // メニューが隠れているかどうかを管理するフラグ

    // menubarとside-btnを隠す関数
    function hideElements() {
        menubars.forEach(menubar => menubar.classList.add('hidden'));
        sideBtn.classList.add('hidden');
        arrowBtn.querySelector('i').style.transform = 'rotate(180deg)'; // 矢印の向きを変更
        isHidden = true;  // フラグを更新
    }

    // menubarとside-btnを表示する関数
    function showElements() {
        menubars.forEach(menubar => menubar.classList.remove('hidden'));
        sideBtn.classList.remove('hidden');
        arrowBtn.querySelector('i').style.transform = 'rotate(0deg)'; // 矢印の向きを元に戻す
        isHidden = false;  // フラグを更新
    }

    // ドラッグ開始時の処理
    function startDrag(event) {
        isDragging = true;
        startX = event.pageX;
        menubars.forEach(menubar => menubar.style.cursor = "grabbing");
        sideBtn.style.cursor = "grabbing";
    }

    // ドラッグ終了時の処理
    function endDrag() {
        isDragging = false;
        menubars.forEach(menubar => menubar.style.cursor = "grab");
        sideBtn.style.cursor = "grab";
    }

    // ドラッグ中の処理
    function onDrag(event) {
        if (isDragging) {
            const currentX = event.pageX;
            const deltaX = currentX - startX;

            if (deltaX < -threshold) { // 左にしきい値を超えてドラッグした場合
                hideElements();
            } else if (deltaX > threshold) { // 右にしきい値を超えてドラッグした場合
                showElements();
            }
        }
    }

    // 矢印アイコンをクリックしたときにside-btnの表示・非表示を切り替える
    arrowBtn.addEventListener('click', function() {
        if (isHidden) {
            showElements(); // 隠れている場合は表示
        } else {
            hideElements(); // 表示されている場合は非表示
        }
    });

    // menubarのドラッグ操作のイベントリスナー
    menubars.forEach(menubar => menubar.addEventListener('mousedown', startDrag));

    // side-btnのドラッグ操作のイベントリスナー
    sideBtn.addEventListener('mousedown', startDrag);

    // ドラッグ終了時の処理
    document.addEventListener('mouseup', endDrag);

    // ドラッグ中の動作を監視する
    document.addEventListener('mousemove', onDrag);

    // リンクがドラッグ中に反応しないように preventDefault を追加
    menubars.forEach(menubar => menubar.addEventListener('click', function(event) {
        if (isDragging) event.preventDefault(); // ドラッグ中はリンク動作を無効化
    }));
    sideBtn.addEventListener('click', function(event) {
        if (isDragging) event.preventDefault(); // ドラッグ中はリンク動作を無効化
    });
});

</script>

<!--左上ボタン（参加アイコン）-->
<a id="menubar_hdr_2" href="https://forms.gle/5AfDjNdrMo6gqYeY8">
    <span>参加</span> <!-- 参加の文字を追加 -->
    <i class="fas fa-link"></i> <!-- ここに表示するアイコンを指定 -->
</a>

<div id="side-btn">
    <p><a href="https://docs.google.com/viewer?url=https://github.com/hitopi/summer-festival-2024/raw/main/TWIns_matsuri.pdf" target="_blank"><i class="fas fa-file-alt"></i>チラシはこちら</a></p>
</div>

<!-- ページトップへ戻るボタン -->
<div class="pagetop"><a href="#"><i class="fas fa-angle-double-up"></i></a></div>

<!-- ページの一番下に追加 -->
<footer>
    <h1 id="logo">
        <a href="index.html">
            <img src="https://github.com/hitopi/summer-festival-2024/raw/main/in_logo_4.png" alt="施設のロゴ">
        </a>
    </h1>
</footer>

<!-- jQueryとVegas.jsの読み込み -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vegas/2.4.4/vegas.min.js"></script>

</script>

</body>
</html>
